## Evaluation 

### Image Denoising  图像去噪 的Testing on SIDD dataset、Testing on DND dataset

### Image Super-resolution 图像超分辨率

以上四个由于显存不够等硬件问题无法跑起，不过环境等已搭好

![img](https://raw.githubusercontent.com/zhuba-Ahhh/Zhuba/main/202205031600967.png)

![image-20220503160125650](https://raw.githubusercontent.com/zhuba-Ahhh/Zhuba/main/202205031601711.png)



DND：

![Test2](https://raw.githubusercontent.com/zhuba-Ahhh/Zhuba/main/202205031842704.png)

SIDD：

![test3](https://raw.githubusercontent.com/zhuba-Ahhh/Zhuba/main/202205031855766.jpg)

### Image Enhancement 图像增强

#### Testing on LOL dataset、Testing on Adobe-MIT FiveK dataset

![image-20220503155218463](https://raw.githubusercontent.com/zhuba-Ahhh/Zhuba/main/202205031552512.png)

模型结果

![img](https://raw.githubusercontent.com/zhuba-Ahhh/Zhuba/main/202205031903032.png)

![img](https://camo.githubusercontent.com/996049af2d494b7bdecdeb806977fee75864aff13d5f478560273aa85116142b/68747470733a2f2f692e696d6775722e636f6d2f545a52426c75782e706e67)

​	对去噪、超分、图像增强测试集的应用，效果还是很不错的，再具体的可以去论文中看。关于Ablation Study，可以看出起主要作用的是DAU模块，其实也可以看出Attention机制对于图像处理的帮助还是比较大的。个人认为如果能够将attention机制改进，能够在充分利用像素间相关信息的同时再减少计算量会是一个有价值的点，但听上去好像不太靠谱2333。







![202205031642818.png](https://github.com/zhuba-Ahhh/Zhuba/blob/main/202205031642870.png?raw=true)

​	RRG是递归残差块，主体结构。loss采用了一个叫Charbonnier loss的玩意：
$$
L( 
I
^
 ,I 
∗
 )= 
∥
∥
​
  
I
^
 −I 
∗
 
​
  
∥
∥
​
  
2
 +ε 
2
 
​
 ;
$$
​	本质上是一个增加了正则系数的l1 loss，l1 loss对于图像处理稳健性高，对于图像处理能够更加平滑，l2 loss对于离群点较为敏感。



​	其中的MRB是多尺度残差块，在这一块里先下采样得到不同尺度，需要提一点这里的上采样下采样也用了卷积来实现，不是单纯的采样和插值，不确定这样做的理由是否足够强，相比于单纯的上下采样有多大优势。

![image-20220503165232358](https://raw.githubusercontent.com/zhuba-Ahhh/Zhuba/main/202205031652434.png)

​	用attention单元来对feature map进行重构，一个是通道attention，一个是空域attention，这里的attention没有像Non-local block那样两两点之间的关系都算出来，而是直接用卷积训练生成出来。利用GAP、GMP来多通道共享权重可以解决attention里面对于图像幅面的限制。
​	这里的空域Attention来自于CBAM里的空域attention结构，通道attention来自于SENet的结构。

​	核选择和特征融合模块，多尺度有attention信息的feature map通过上采样模块得到相同幅面，再将多尺度的信息加和，经过channel attention模块来得到不同特征的选择，最后把选出来的feature map加和得到最终结果。相当于从不同尺度里选取对最终结果起到作用的map结合，这也就对应着论文里提出了信息交换。
